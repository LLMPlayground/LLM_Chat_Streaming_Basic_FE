<!DOCTYPE html>
<html lang="vi" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ChatGPT Style Chat</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet" />
    <style>
      body {
        font-family: "Inter", sans-serif;
      }
      .typing-cursor::after {
        content: "▋";
        animation: blink 1s step-end infinite;
      }
      @keyframes blink {
        50% {
          opacity: 0;
        }
      }
      /* Custom Scrollbar */
      .custom-scrollbar::-webkit-scrollbar {
        width: 6px;
      }
      .custom-scrollbar::-webkit-scrollbar-track {
        background: #171717; /* Darker track for sidebar */
      }
      .custom-scrollbar::-webkit-scrollbar-thumb {
        background: #4a4a4a;
        border-radius: 3px;
      }
      #chat-container::-webkit-scrollbar-track {
        background: transparent;
      }
      #chat-container::-webkit-scrollbar-thumb {
        background: #555;
      }

      /* Markdown code block styling */
      .prose code {
        background-color: #1e293b;
        color: #e5e7eb;
        padding: 0.125rem 0.25rem;
        border-radius: 0.25rem;
        font-size: 0.9em;
      }
      .dark .prose code {
        background-color: #374151;
        color: #e5e7eb;
      }
      .prose pre {
        background-color: #0f172a;
        padding: 1rem;
        border-radius: 0.5rem;
        overflow-x: auto;
        color: #e2e8f0;
        border: 1px solid #334155;
      }
      .dark .prose pre {
        background-color: #020617;
      }
      .prose pre code {
        padding: 0;
        background-color: transparent;
        border: none;
      }
    </style>
  </head>
  <body class="bg-gray-100 dark:bg-[#343541]">
    <div class="flex h-screen text-white">
      <aside class="w-64 bg-gray-900 flex flex-col p-2">
        <button
          id="new-chat-btn"
          class="flex items-center gap-3 p-3 rounded-lg text-left text-sm hover:bg-gray-700 transition-colors w-full mb-2">
          <i class="fas fa-plus"></i>
          New Chat
        </button>
        <div
          id="chat-history-list"
          class="flex-grow overflow-y-auto custom-scrollbar pr-1"></div>
        <div class="border-t border-gray-700 p-2">
          <button
            id="theme-toggle"
            type="button"
            class="flex items-center gap-3 p-3 rounded-lg text-left text-sm hover:bg-gray-700 transition-colors w-full">
            <i id="theme-icon-light" class="fas fa-sun hidden"></i>
            <i id="theme-icon-dark" class="fas fa-moon"></i>
            <span id="theme-text">Light mode</span>
          </button>
        </div>
      </aside>

      <main class="flex-1 flex flex-col bg-white dark:bg-[#343541]">
        <header
          class="p-4 flex items-center justify-end border-b border-gray-200 dark:border-gray-700/50">
          <div class="flex items-center gap-3">
            <label
              for="model-selector"
              class="text-sm text-gray-600 dark:text-gray-400"
              >Model:</label
            >
            <select
              id="model-selector"
              class="bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white text-sm rounded-lg focus:ring-teal-500 focus:border-teal-500 p-2">
              <optgroup label="Google">
                <option value="gemini-2.0-flash" selected>
                  Gemini 2.5 Flash
                </option>
                <option value="gemini-2.0-pro">Gemini 2.5 Pro</option>
              </optgroup>

              <optgroup label="GitHub Marketplace - OpenAI">
                <option value="gpt-4.1">GPT-4.1</option>
                <option value="gpt-4.1-mini">GPT-4.1 mini</option>
                <option value="gpt-4o">GPT-4o</option>
                <option value="gpt-4o-mini">GPT-4o mini</option>
              </optgroup>

              <optgroup label="GitHub Marketplace - Meta">
                <option value="llama-3.1-8b-instruct">
                  Llama 3.1 8B Instruct
                </option>
                <option value="llama-3.1-70b-instruct">
                  Llama 3.1 70B Instruct
                </option>
              </optgroup>

              <optgroup label="GitHub Marketplace - Microsoft">
                <option value="phi-3-mini-instruct">Phi-3 Mini Instruct</option>
                <option value="phi-3-medium-instruct">
                  Phi-3 Medium Instruct
                </option>
              </optgroup>

              <optgroup label="GitHub Marketplace - Mistral">
                <option value="mistral-large-2">Mistral Large 2</option>
              </optgroup>
            </select>
          </div>
        </header>

        <div
          id="chat-container"
          class="flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar">
          <div id="chat-history" class="space-y-6 max-w-4xl mx-auto"></div>
        </div>

        <footer
          class="p-4 md:p-6 border-t border-gray-200 dark:border-gray-700/50">
          <div class="max-w-4xl mx-auto">
            <form id="prompt-form" class="relative">
              <textarea
                id="prompt-input"
                rows="1"
                class="w-full p-4 pr-12 bg-gray-200 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all resize-none text-gray-900 dark:text-white placeholder-gray-500"
                placeholder="Nhập câu hỏi của bạn..."></textarea>
              <button
                type="submit"
                id="submit-button"
                class="absolute right-3 top-1/2 -translate-y-1/2 w-8 h-8 flex items-center justify-center bg-gray-300 dark:bg-gray-500 text-gray-600 dark:text-gray-300 rounded-lg hover:bg-teal-600 hover:text-white focus:outline-none transition-colors disabled:bg-gray-400 dark:disabled:bg-gray-800 disabled:text-gray-500 disabled:cursor-not-allowed">
                <i class="fas fa-arrow-up"></i>
              </button>
            </form>
            <p
              class="text-xs text-center text-gray-500 dark:text-gray-400 mt-2">
              Chat interface inspired by ChatGPT.
            </p>
          </div>
        </footer>
      </main>
    </div>
    <script src="script.js" type="module"></script>
  </body>
</html>
